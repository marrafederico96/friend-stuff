@using FriendStuff.Features.Auth.DTOs

@rendermode InteractiveServer

<div class="tab-button">
    <button type="button" class="@GetTabClass("events")" @onclick="@(() => ChangeTab("events"))">Events</button>
    <button type="button" class="@GetTabClass("members")" @onclick="@(() => ChangeTab("members"))">Members</button>
</div>

@if (_activeTab.Equals("events"))
{
    <EventFormComponent GroupName="@GroupName" UserInfo="@UserInfo"/>
}
else
{
    <GroupMemberComponent UserInfo="@UserInfo" GroupName="@GroupName"/>
}

@code {
    [Parameter] public required string GroupName { get; set; }
    [Parameter] public required UserInfoDto UserInfo { get; set; }
    
    private string _activeTab = "events";
    
    private void ChangeTab(string tab)
    {
        _activeTab = tab;
        StateHasChanged();
    }
    
    private string GetTabClass(string tab)
    {
        return _activeTab == tab ? "tab-active" : "";
    }
}